<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="styles.css" />
    </head>

    <body>
        <h1 class="title"> Game of the Amazons </h1>

        <form id="theOptions">
            <section class="questions">
                <div class="options">
                    <p>Board Size: </p>

                    <input checked type="radio" id="6" name="boardChoice" value="6">
                    <label for="6"> 6 x 6 </label>
                    <br />

                    <input type="radio" id="10" name="boardChoice" value="10">
                    <label for="10"> 10 x 10 </label>
                </div>

                <div class="options">

                    <p>Who starts:</p>
                    <input checked type="radio" id="white" name="colorStart" value="white">
                    <label for="white">White</label>
                    <br />

                    <input type="radio" id="black" name="colorStart" value="black">
                    <label for="black">Black</label>
                </div>
            </section>

            <button type="submit">Empezar</button>
        </form>

        <div id="canvas" />
    </body>
    
    <script>
        const loadScript = scr => {
            const script = document.createElement('script')
            script.src = scr
            document.head.appendChild(script)
        }

        const formWithOptions = document.getElementById("theOptions")
        formWithOptions.onsubmit = () => {
            window.colorStart = formWithOptions.elements["colorStart"].value
            window.boardChoice = formWithOptions.elements["boardChoice"].value

            loadScript("libraries/p5.min.js")
            loadScript("init.js")
            loadScript("pieces.js")
            loadScript("board.js")

            formWithOptions.style.display = "none"

            const resizeCanvas = setInterval(() => {
                const canvas = document.getElementById("defaultCanvas0")
                if (!canvas) return

                canvas.style = ""
                canvas.style.display = "block"

                clearInterval(resizeCanvas)
            }, 10)

            return false
        }
    </script>
</html>
